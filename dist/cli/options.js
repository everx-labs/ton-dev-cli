"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compilersWithNetworks = compilersWithNetworks;

var _dev = require("../dev");

var _networks = require("../networks/networks");

/*
 * Copyright 2018-2020 TON DEV SOLUTIONS LTD.
 *
 * Licensed under the SOFTWARE EVALUATION License (the "License"); you may not use
 * this file except in compliance with the License.  You may obtain a copy of the
 * License at: https://www.ton.dev/licenses
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific TON DEV software governing permissions and
 * limitations under the License.
 *
 */
function findNetworks(dev, options) {
  var names = options.networks;

  if (!names) {
    return null;
  }

  if (typeof names === 'boolean') {
    return dev.networks;
  }

  return dev.networksFromNames(names.split(','));
}

function compilersWithNetworks(dev, options) {
  var compilers = !!options.compilers;
  var networks = findNetworks(dev, options);

  if (!compilers && !networks) {
    compilers = true;
    networks = dev.networks;
  }

  return {
    compilers: compilers,
    networks: networks || []
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jbGkvb3B0aW9ucy5qcyJdLCJuYW1lcyI6WyJmaW5kTmV0d29ya3MiLCJkZXYiLCJvcHRpb25zIiwibmFtZXMiLCJuZXR3b3JrcyIsIm5ldHdvcmtzRnJvbU5hbWVzIiwic3BsaXQiLCJjb21waWxlcnNXaXRoTmV0d29ya3MiLCJjb21waWxlcnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFnQkE7O0FBQ0E7O0FBakJBOzs7Ozs7Ozs7Ozs7OztBQThEQSxTQUFTQSxZQUFULENBQXNCQyxHQUF0QixFQUFnQ0MsT0FBaEMsRUFBd0U7QUFDcEUsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUNFLFFBQXRCOztBQUNBLE1BQUksQ0FBQ0QsS0FBTCxFQUFZO0FBQ1IsV0FBTyxJQUFQO0FBQ0g7O0FBQ0QsTUFBSSxPQUFPQSxLQUFQLEtBQWlCLFNBQXJCLEVBQWdDO0FBQzVCLFdBQU9GLEdBQUcsQ0FBQ0csUUFBWDtBQUNIOztBQUNELFNBQU9ILEdBQUcsQ0FBQ0ksaUJBQUosQ0FBc0JGLEtBQUssQ0FBQ0csS0FBTixDQUFZLEdBQVosQ0FBdEIsQ0FBUDtBQUNIOztBQUVNLFNBQVNDLHFCQUFULENBQ0hOLEdBREcsRUFFSEMsT0FGRyxFQUdrQjtBQUNyQixNQUFJTSxTQUFTLEdBQUcsQ0FBQyxDQUFDTixPQUFPLENBQUNNLFNBQTFCO0FBRUEsTUFBSUosUUFBUSxHQUFHSixZQUFZLENBQUNDLEdBQUQsRUFBTUMsT0FBTixDQUEzQjs7QUFDQSxNQUFJLENBQUNNLFNBQUQsSUFBYyxDQUFDSixRQUFuQixFQUE2QjtBQUN6QkksSUFBQUEsU0FBUyxHQUFHLElBQVo7QUFDQUosSUFBQUEsUUFBUSxHQUFHSCxHQUFHLENBQUNHLFFBQWY7QUFDSDs7QUFDRCxTQUFPO0FBQ0hJLElBQUFBLFNBQVMsRUFBVEEsU0FERztBQUVISixJQUFBQSxRQUFRLEVBQUVBLFFBQVEsSUFBSTtBQUZuQixHQUFQO0FBSUgiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTgtMjAyMCBUT04gREVWIFNPTFVUSU9OUyBMVEQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIFNPRlRXQVJFIEVWQUxVQVRJT04gTGljZW5zZSAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG4gKiB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcbiAqIExpY2Vuc2UgYXQ6IGh0dHBzOi8vd3d3LnRvbi5kZXYvbGljZW5zZXNcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIFRPTiBERVYgc29mdHdhcmUgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cbmltcG9ydCB0eXBlIHsgQ29tcGlsZXJzV2l0aE5ldHdvcmtzIH0gZnJvbSBcIi4uL2RldlwiO1xuaW1wb3J0IHsgRGV2IH0gZnJvbSBcIi4uL2RldlwiO1xuaW1wb3J0IHsgTmV0d29yayB9IGZyb20gXCIuLi9uZXR3b3Jrcy9uZXR3b3Jrc1wiO1xuXG5leHBvcnQgdHlwZSBOZXR3b3Jrc09wdGlvbnMgPSB7XG4gICAgbmV0d29ya3M/OiBib29sZWFuIHwgc3RyaW5nLFxufVxuXG5leHBvcnQgdHlwZSBDb21waWxlcnNPcHRpb25zID0ge1xuICAgIGNvbXBpbGVycz86IGJvb2xlYW4sXG59XG5cbmV4cG9ydCB0eXBlIENvbXBpbGVyc1dpdGhOZXR3b3Jrc09wdGlvbnMgPSBDb21waWxlcnNPcHRpb25zICYgTmV0d29ya3NPcHRpb25zO1xuXG5leHBvcnQgdHlwZSBJbmZvT3B0aW9ucyA9IHtcbiAgICBhdmFpbGFibGU/OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIFNldHVwT3B0aW9ucyA9IENvbXBpbGVyc1dpdGhOZXR3b3Jrc09wdGlvbnM7XG5cbmV4cG9ydCB0eXBlIFN0YXJ0T3B0aW9ucyA9IENvbXBpbGVyc1dpdGhOZXR3b3Jrc09wdGlvbnM7XG5leHBvcnQgdHlwZSBTdG9wT3B0aW9ucyA9IENvbXBpbGVyc1dpdGhOZXR3b3Jrc09wdGlvbnM7XG5leHBvcnQgdHlwZSBSZXN0YXJ0T3B0aW9ucyA9IENvbXBpbGVyc1dpdGhOZXR3b3Jrc09wdGlvbnM7XG5leHBvcnQgdHlwZSBSZWNyZWF0ZU9wdGlvbnMgPSBDb21waWxlcnNXaXRoTmV0d29ya3NPcHRpb25zO1xuZXhwb3J0IHR5cGUgQ2xlYW5PcHRpb25zID0ge1xuICAgIG5ldHdvcmtzOiBib29sZWFuLFxuICAgIGNvbXBpbGVyczogYm9vbGVhbixcbiAgICBjb250YWluZXJzOiBib29sZWFuLFxufVxuXG5leHBvcnQgdHlwZSBVc2VPcHRpb25zID0gQ29tcGlsZXJzV2l0aE5ldHdvcmtzT3B0aW9ucztcbmV4cG9ydCB0eXBlIFNldE5ldHdvcmtPcHRpb25zID0ge1xuICAgIG5ld05hbWU/OiBzdHJpbmc7XG4gICAgcG9ydD86IHN0cmluZyxcbiAgICBkYlBvcnQ/OiBzdHJpbmcsXG59XG5cbmV4cG9ydCB0eXBlIFNvbE9wdGlvbnMgPSB7XG4gICAgY2xpZW50TGFuZ3VhZ2VzPzogc3RyaW5nLFxuICAgIGNsaWVudExldmVsPzogc3RyaW5nLFxuICAgIGpzTW9kdWxlPzogc3RyaW5nLFxufVxuXG5leHBvcnQgdHlwZSBXZWJPcHRpb25zID0ge1xuICAgIHBvcnQ6IHN0cmluZyxcbn1cblxuZnVuY3Rpb24gZmluZE5ldHdvcmtzKGRldjogRGV2LCBvcHRpb25zOiBOZXR3b3Jrc09wdGlvbnMpOiA/KE5ldHdvcmtbXSkge1xuICAgIGNvbnN0IG5hbWVzID0gb3B0aW9ucy5uZXR3b3JrcztcbiAgICBpZiAoIW5hbWVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWVzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGRldi5uZXR3b3JrcztcbiAgICB9XG4gICAgcmV0dXJuIGRldi5uZXR3b3Jrc0Zyb21OYW1lcyhuYW1lcy5zcGxpdCgnLCcpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGVyc1dpdGhOZXR3b3JrcyhcbiAgICBkZXY6IERldixcbiAgICBvcHRpb25zOiBDb21waWxlcnNXaXRoTmV0d29ya3NPcHRpb25zXG4pOiBDb21waWxlcnNXaXRoTmV0d29ya3Mge1xuICAgIGxldCBjb21waWxlcnMgPSAhIW9wdGlvbnMuY29tcGlsZXJzO1xuXG4gICAgbGV0IG5ldHdvcmtzID0gZmluZE5ldHdvcmtzKGRldiwgb3B0aW9ucyk7XG4gICAgaWYgKCFjb21waWxlcnMgJiYgIW5ldHdvcmtzKSB7XG4gICAgICAgIGNvbXBpbGVycyA9IHRydWU7XG4gICAgICAgIG5ldHdvcmtzID0gZGV2Lm5ldHdvcmtzO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb21waWxlcnMsXG4gICAgICAgIG5ldHdvcmtzOiBuZXR3b3JrcyB8fCBbXVxuICAgIH07XG59XG5cbiJdfQ==